# Type Checker Benchmark Analysis
## Comparing 2026-01-13 vs 2026-01-16

This report compares benchmark results across all three platforms (Ubuntu, macOS, Windows)
between January 13 and January 16, 2026.

---

## Executive Summary

### Version Updates

| Type Checker | 2026-01-13 | 2026-01-16 |
|-------------|------------|------------|
| pyright | 1.1.408 | 1.1.408 |
| pyrefly | 0.48.0 | 0.48.1 **NEW** |
| ty | 0.0.11 | 0.0.12 **NEW** |
| mypy | not installed | not installed |
| zuban | 0.4.1 | 0.4.2 **NEW** |

### Key Findings

1. **zuban 0.4.2** shows a significant increase in total errors (+24.66% on Windows)
   - `transformers` package: 0 → 50,165 errors (previously not being analyzed properly)
   - `airflow` package: +244% increase in errors

2. **pyrefly 0.48.1** remains stable with minimal changes across all platforms

3. **ty 0.0.12** shows minor improvements on several packages (uvicorn -38.7%)

4. **pyright** and **mypy** unchanged - minor fluctuations from package updates

---

## Ubuntu Analysis

### Aggregate Error Comparison

| Type Checker | 01-13 Errors | 01-16 Errors | Change | % Change |
|-------------|-------------|-------------|--------|----------|
| pyright | 394,591 | 346,476 | -48,115 | -12.19% |
| pyrefly | 857,950 | 859,914 | +1,964 | +0.23% |
| ty | 500,073 | 500,443 | +370 | +0.07% |
| mypy | 23,756 | 23,752 | -4 | -0.02% |
| zuban | 428,342 | 477,668 | +49,326 | +11.52% |

### Execution Time Comparison (Average)

| Type Checker | 01-13 Time | 01-16 Time | Change |
|-------------|-----------|-----------|--------|
| pyright | 35.34s | 29.24s | -6.10s |
| pyrefly | 3.37s | 3.48s | +0.11s |
| ty | 2.56s | 2.66s | +0.10s |
| mypy | 5.09s | 5.35s | +0.26s |
| zuban | 6.83s | 7.31s | +0.48s |

### Notable Per-Package Changes

**pyright** (changes ≥50 errors):

- `tensorflow`: 53,229 → 51,830 (-1,399, -2.6%) ↓
- `ray`: 57,456 → 57,652 (+196, +0.3%) ↑
- `prefect`: 10,613 → 10,693 (+80, +0.8%) ↑
- `airflow`: 23,036 → 23,102 (+66, +0.3%) ↑
- `sentry-sdk`: 1,968 → 2,023 (+55, +2.8%) ↑

**pyrefly** (changes ≥50 errors):

- `django`: 32,971 → 33,874 (+903, +2.7%) ↑
- `torch`: 160,643 → 161,342 (+699, +0.4%) ↑
- `transformers`: 66,897 → 66,278 (-619, -0.9%) ↓
- `sqlalchemy`: 31,395 → 31,899 (+504, +1.6%) ↑
- `salt`: 28,939 → 29,399 (+460, +1.6%) ↑

**ty** (changes ≥50 errors):

- `transformers`: 41,019 → 40,495 (-524, -1.3%) ↓
- `tensorflow`: 23,637 → 24,123 (+486, +2.1%) ↑
- `torch`: 171,266 → 171,702 (+436, +0.3%) ↑
- `prefect`: 8,169 → 8,374 (+205, +2.5%) ↑
- `ray`: 29,001 → 29,187 (+186, +0.6%) ↑

**zuban** (changes ≥50 errors):

- `transformers`: 0 → 50,350 (+50,350, ∞) ↑
- `botocore`: 5,055 → 4,434 (-621, -12.3%) ↓
- `homeassistant`: 48,252 → 48,496 (+244, +0.5%) ↑
- `luigi`: 3,331 → 3,111 (-220, -6.6%) ↓
- `sentry-sdk`: 4,975 → 5,192 (+217, +4.4%) ↑

---

## macOS Analysis

### Aggregate Error Comparison

| Type Checker | 01-13 Errors | 01-16 Errors | Change | % Change |
|-------------|-------------|-------------|--------|----------|
| pyright | 297,362 | 297,723 | +361 | +0.12% |
| pyrefly | 858,075 | 745,672 | -112,403 | -13.10% |
| ty | 528,517 | 529,725 | +1,208 | +0.23% |
| mypy | 22,648 | 22,646 | -2 | -0.01% |
| zuban | 431,692 | 479,974 | +48,282 | +11.18% |

### Execution Time Comparison (Average)

| Type Checker | 01-13 Time | 01-16 Time | Change |
|-------------|-----------|-----------|--------|
| pyright | 30.05s | 34.47s | +4.42s |
| pyrefly | 3.31s | 3.79s | +0.48s |
| ty | 2.95s | 3.16s | +0.21s |
| mypy | 3.42s | 3.54s | +0.12s |
| zuban | 5.70s | 6.60s | +0.90s |

### Notable Per-Package Changes

**pyright** (changes ≥50 errors):

- `ray`: 54,994 → 55,205 (+211, +0.4%) ↑
- `airflow`: 28,090 → 28,179 (+89, +0.3%) ↑
- `prefect`: 8,963 → 9,043 (+80, +0.9%) ↑
- `setuptools`: 107 → 40 (-67, -62.6%) ↓
- `sentry-sdk`: 1,563 → 1,618 (+55, +3.5%) ↑

**pyrefly** (changes ≥50 errors):

- `sympy`: 114,779 → 0 (-114,779, -100.0%) ↓
- `django`: 33,007 → 33,878 (+871, +2.6%) ↑
- `torch`: 160,641 → 161,340 (+699, +0.4%) ↑
- `transformers`: 66,897 → 66,278 (-619, -0.9%) ↓
- `salt`: 28,933 → 29,496 (+563, +1.9%) ↑

**ty** (changes ≥50 errors):

- `torch`: 173,298 → 173,874 (+576, +0.3%) ↑
- `tensorflow`: 23,651 → 24,137 (+486, +2.1%) ↑
- `prefect`: 6,823 → 7,085 (+262, +3.8%) ↑
- `setuptools`: 1,686 → 1,497 (-189, -11.2%) ↓
- `ray`: 29,327 → 29,513 (+186, +0.6%) ↑

**zuban** (changes ≥50 errors):

- `transformers`: 0 → 49,212 (+49,212, ∞) ↑
- `botocore`: 5,074 → 4,454 (-620, -12.2%) ↓
- `homeassistant`: 49,602 → 49,861 (+259, +0.5%) ↑
- `luigi`: 3,341 → 3,118 (-223, -6.7%) ↓
- `sentry-sdk`: 4,997 → 5,213 (+216, +4.3%) ↑

---

## Windows Analysis

### Aggregate Error Comparison

| Type Checker | 01-13 Errors | 01-16 Errors | Change | % Change |
|-------------|-------------|-------------|--------|----------|
| pyright | 343,722 | 343,782 | +60 | +0.02% |
| pyrefly | 152,793 | 152,795 | +2 | +0.00% |
| ty | 156,509 | 156,825 | +316 | +0.20% |
| mypy | 23,086 | 23,052 | -34 | -0.15% |
| zuban | 201,912 | 251,694 | +49,782 | +24.66% |

### Execution Time Comparison (Average)

| Type Checker | 01-13 Time | 01-16 Time | Change |
|-------------|-----------|-----------|--------|
| pyright | 32.47s | 34.22s | +1.75s |
| pyrefly | 10.41s | 10.23s | -0.18s |
| ty | 5.21s | 5.68s | +0.47s |
| mypy | 6.68s | 6.95s | +0.27s |
| zuban | 8.31s | 9.00s | +0.69s |

### Notable Per-Package Changes

**pyright** (changes ≥50 errors):

- `prefect`: 10,637 → 10,715 (+78, +0.7%) ↑
- `typer`: 382 → 323 (-59, -15.4%) ↓
- `sentry-sdk`: 1,968 → 2,023 (+55, +2.8%) ↑
- `airflow`: 23,220 → 23,273 (+53, +0.2%) ↑

**pyrefly** (changes ≥50 errors):

- `prefect`: 11,432 → 11,686 (+254, +2.2%) ↑
- `setuptools`: 1,751 → 1,506 (-245, -14.0%) ↓
- `dask`: 3,218 → 3,416 (+198, +6.2%) ↑
- `openai`: 659 → 500 (-159, -24.1%) ↓
- `typer`: 312 → 213 (-99, -31.7%) ↓

**ty** (changes ≥50 errors):

- `tensorflow`: 23,658 → 24,144 (+486, +2.1%) ↑
- `setuptools`: 1,393 → 1,254 (-139, -10.0%) ↓
- `uvicorn`: 305 → 187 (-118, -38.7%) ↓
- `airflow`: 23,120 → 23,191 (+71, +0.3%) ↑
- `homeassistant`: 56,988 → 57,047 (+59, +0.1%) ↑

**zuban** (changes ≥50 errors):

- `transformers`: 0 → 50,165 (+50,165, ∞) ↑
- `airflow`: 447 → 1,538 (+1,091, +244.1%) ↑
- `botocore`: 4,996 → 4,368 (-628, -12.6%) ↓
- `homeassistant`: 49,629 → 49,889 (+260, +0.5%) ↑
- `luigi`: 3,305 → 3,084 (-221, -6.7%) ↓

---

## Deep Dive: zuban 0.4.2 Changes

The zuban type checker showed the most significant changes in this update.

### transformers Package Investigation

| Platform | 01-13 Errors | 01-16 Errors | 01-13 Time | 01-16 Time |
|----------|-------------|-------------|-----------|-----------|
| ubuntu | 0 | 50,350 | 3.35s | 10.31s |
| macos | 0 | 49,212 | 2.00s | 8.05s |
| windows | 0 | 50,165 | 7.45s | 21.33s |

**Analysis:** The `transformers` package went from 0 errors to ~50,000 errors across
all platforms. This strongly suggests that zuban 0.4.1 was failing silently or
skipping analysis on this package, and 0.4.2 now properly analyzes it.

---

## Conclusions

### Stability Assessment

| Type Checker | Status | Notes |
|-------------|--------|-------|
| pyright | ✅ Stable | No version change, minor fluctuations |
| pyrefly | ✅ Stable | 0.48.0 → 0.48.1, minimal error count change |
| ty | ✅ Stable | 0.0.11 → 0.0.12, some improvements |
| mypy | ✅ Stable | No version change |
| zuban | ⚠️ Significant Change | 0.4.1 → 0.4.2, +24% errors (expected - now analyzing transformers) |

### Recommendations

1. **zuban:** Investigate the transformers analysis - the jump from 0 to 50K errors
   suggests the previous version had a bug that prevented analysis

2. **pyrefly:** Continue monitoring - very stable performance

3. **ty:** Good progress with uvicorn and setuptools improvements

---

*Report generated: 2026-01-16*